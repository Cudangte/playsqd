CREATE TABLE AUDIO_SOURCE
(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) primary key,

    NAME VARCHAR(255),
    PATH VARCHAR(255),

    AUTO_SCAN_ON_CREATE BOOLEAN,
    AUTO_SCAN_ON_RESTART BOOLEAN,
    DELETE_MISSING BOOLEAN,
    DELETE_ALL_BEFORE_SCAN BOOLEAN,
    STATUS VARCHAR(255),
    STATUS_DETAILS VARCHAR(255),
    LAST_SCAN_DATE TIMESTAMP,

    CREATED_BY VARCHAR(255),
    CREATED_DATE TIMESTAMP,
    LAST_MODIFIED_BY VARCHAR(255),
    LAST_MODIFIED_DATE TIMESTAMP
);

CREATE INDEX AUDIO_SOURCE_IDX
    ON AUDIO_SOURCE (NAME, PATH);

CREATE TABLE AUDIO_SOURCE_EVENT
(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) primary key,

    SOURCE_ID INTEGER,
    ITEMS_SCANNED INTEGER,
    ITEMS_MISSING INTEGER,
    SCAN_DURATION_IN_MILLIS INTEGER,

    CREATED_BY VARCHAR(255),
    CREATED_DATE TIMESTAMP,
    LAST_MODIFIED_BY VARCHAR(255),
    LAST_MODIFIED_DATE TIMESTAMP
);

CREATE TABLE AUDIO_TRACK
(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) primary key,

    ARTIST_ID VARCHAR(255),
    ARTIST_SPOTIFY_ID VARCHAR(255),
    ARTIST_SPOTIFY_NAME VARCHAR(255),
    ARTIST_NAME VARCHAR(255),
    ARTIST_COUNTRY VARCHAR(255),

    ALBUM_ID VARCHAR(255),
    ALBUM_NAME VARCHAR(255),
    ALBUM_YEAR VARCHAR(255),
    ALBUM_GENRE VARCHAR(255),
    ALBUM_ARTWORK_URL VARCHAR(255),

    TRACK_NAME VARCHAR(1000),
    TRACK_NUMBER INTEGER,
    TRACK_LENGTH INTEGER,
    TRACK_COMMENT VARCHAR(3000),
    TRACK_LYRICS VARCHAR(16777216),

    AUDIO_BIT_RATE VARCHAR(255),
    AUDIO_CHANNEL_TYPE VARCHAR(255),
    AUDIO_ENCODING_TYPE VARCHAR(255),
    AUDIO_SAMPLE_RATE VARCHAR(255),

    FILE_NAME VARCHAR(255),
    FILE_EXTENSION VARCHAR(255),
    FILE_LOCATION VARCHAR(255),

    MISC_PLAY_COUNT INTEGER,
    MISC_IS_FAVORITE BOOLEAN,

    CREATED_BY VARCHAR(255),
    CREATED_DATE TIMESTAMP,
    LAST_MODIFIED_BY VARCHAR(255),
    LAST_MODIFIED_DATE TIMESTAMP
);

CREATE INDEX AUDIO_TRACK_IDX
	ON AUDIO_TRACK (ARTIST_ID, ARTIST_NAME, ALBUM_ID, ALBUM_NAME, ALBUM_GENRE, TRACK_NAME, FILE_NAME);

CREATE TABLE AUDIO_CHANNEL
(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) primary key,

    NAME VARCHAR(255),
    DESCRIPTION VARCHAR(255),
    STATE VARCHAR(50),
    TYPE VARCHAR(255),
    SOURCE VARCHAR(255),
    REPEAT BOOLEAN,
    ITEM_SELECTION VARCHAR(255),

    CREATED_BY VARCHAR(255),
    CREATED_DATE TIMESTAMP,
    LAST_MODIFIED_BY VARCHAR(255),
    LAST_MODIFIED_DATE TIMESTAMP
);

CREATE INDEX AUDIO_CHANNEL_IDX
    ON AUDIO_CHANNEL (NAME);

CREATE TABLE AUDIO_CHANNEL_NOW_PLAYING_TRACK
(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) primary key,

    AUDIO_CHANNEL_ID INTEGER,
    AUDIO_TRACK_ID INTEGER,
    AUDIO_TRACK_LENGTH_IN_SEC INTEGER,
    PLAY_START_DATE TIMESTAMP,

    CREATED_BY VARCHAR(255),
    CREATED_DATE TIMESTAMP,
    LAST_MODIFIED_BY VARCHAR(255),
    LAST_MODIFIED_DATE TIMESTAMP
);

CREATE INDEX AUDIO_CHANNEL_NOW_PLAYING_TRACK_IDX
    ON AUDIO_CHANNEL_NOW_PLAYING_TRACK (AUDIO_CHANNEL_ID);

CREATE TABLE AUDIO_CHANNEL_PLAYED_TRACK
(
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) primary key,

    AUDIO_CHANNEL_ID INTEGER,
    AUDIO_TRACK_ID INTEGER,

    CREATED_BY VARCHAR(255),
    CREATED_DATE TIMESTAMP,
    LAST_MODIFIED_BY VARCHAR(255),
    LAST_MODIFIED_DATE TIMESTAMP
);

CREATE INDEX AUDIO_CHANNEL_PLAYED_TRACK_IDX
    ON AUDIO_CHANNEL_PLAYED_TRACK (AUDIO_CHANNEL_ID);